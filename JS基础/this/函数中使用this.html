<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      var user = {
        name: "sds",
        age: 10,
        getInfo: function () {
          console.log("getInfo");
          console.log(this);
          console.log(this.name);
        },
        friend: {
          name: "cc",
          say: function () {
            console.log("say");
            console.log(this);
            console.log(this.name);
          },
        },
      };

      user.getInfo();
      console.log();
      user.friend.say();
      // ===============================================
      var name = "龙傲天";
      function func() {
        console.log("func");
        console.log(this);
        console.log(this.name);
      }
      func();
      console.log("");

      var drink = user.getInfo;
      drink(); // this指向 window
      console.log("");

      user.friend.eat = func;
      user.friend.eat(); // 指向 cc 这个对象

      var name = "222";
      var a = {
        name: "111",
        say: function () {
          console.log(this.name);
        },
      };
      var fun = a.say;
      fun();
      a.say();

      var b = {
        name: "333",
        say: function (func) {
          func();
        },
      };
      b.say(a.say);
      b.say = a.say;
      b.say();
      // ============================================================
      var foo = 123;
      function print() {
        this.foo = 234;
        console.log(foo);
      }
      print();
      // ============================================================
      var a = 5;
      function test() {
        a = 0;
        console.log(a); // 0
        console.log(this.a); // 5
        var a;
        console.log(a); // 0
      }
      test();

      new test(); // 0 undefined 0
    </script>
  </body>
</html>
