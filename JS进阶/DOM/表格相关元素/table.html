<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      table {
        width: 800px;
        table-layout: fixed;
        border-collapse: collapse;
      }
      th,
      td {
        padding: 10px;
        border: 1px solid #ccc;
      }
    </style>
  </head>
  <body>
    <input type="text" placeholder="姓名" id="name" /> <br />
    <input type="text" placeholder="地址" id="address" /> <br />
    <input type="text" placeholder="电话" id="phone" /> <br />
    <button id="btn">添加</button>

    <hr />

    <table id="table">
      <thead>
        <tr>
          <th>序号</th>
          <th>姓名</th>
          <th>地址</th>
          <th>电话</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>曹操</td>
          <td>上海</td>
          <td>15856435678</td>
          <td>
            <button class="delete-btn">删除</button>
          </td>
        </tr>
        <tr>
          <td>2</td>
          <td>刘备</td>
          <td>上海</td>
          <td>15856435678</td>
          <td>
            <button class="delete-btn">删除</button>
          </td>
        </tr>
        <tr>
          <td>3</td>
          <td>孙权</td>
          <td>上海</td>
          <td>15856435678</td>
          <td>
            <button class="delete-btn">删除</button>
          </td>
        </tr>
      </tbody>
    </table>

    <script>
      // 获取相关元素
      var tableBox = document.querySelector("#table");
      var nameInp = document.querySelector("#name");
      var addressInp = document.querySelector("#address");
      var phoneInp = document.querySelector("#phone");
      var btn = document.querySelector("#btn");
      var deleteBtns = document.querySelectorAll(".delete-btn");

      // 添加
      btn.onclick = function () {
        var tr = tableBox.insertRow();
        tr.insertCell(0).innerHTML = tr.rowIndex;
        tr.insertCell(1).innerHTML = nameInp.value;
        tr.insertCell(2).innerHTML = addressInp.value;
        tr.insertCell(3).innerHTML = phoneInp.value;
        tr.insertCell(4).innerHTML = "<button>删除</button>";
      };

      // 删除所在行
      deleteBtns.forEach(function (btn) {
        btn.onclick = function () {
          index = btn.parentElement.parentElement.rowIndex;

          tableBox.deleteRow(index);
        };
      });
    </script>
  </body>
</html>
